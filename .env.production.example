ENVIRONMENT=production

# Required: replace before deployment.
SECRET_KEY=replace-with-strong-random-secret
ENCRYPTION_KEY=replace-with-strong-32-plus-char-encryption-key

DATABASE_URL=sqlite:///data/longevity.db
DATA_DIR=data
UPLOAD_DIR=data/uploads

# Set your real frontend origins.
CORS_ORIGINS=["https://coach.example.com"]

JWT_ALGORITHM=HS256
JWT_EXPIRY_HOURS=72
ADMIN_JWT_EXPIRY_HOURS=12

ADMIN_USERNAME=longadmin
# Required: replace before deployment.
ADMIN_PASSWORD=replace-with-strong-admin-password
ADMIN_DISPLAY_NAME=Long Admin
ADMIN_FORCE_PASSWORD_CHANGE=true
ADMIN_RESET_PASSWORD_ON_STARTUP=false

ENABLE_WEB_SEARCH=true
WEB_SEARCH_ALLOWED_SPECIALISTS=["orchestrator","nutritionist","supplement_auditor","safety_clinician","movement_coach","sleep_expert"]
WEB_SEARCH_MAX_RESULTS=5
WEB_SEARCH_TIMEOUT_SECONDS=8
WEB_SEARCH_CACHE_TTL_HOURS=12
WEB_SEARCH_CIRCUIT_FAIL_THRESHOLD=3
WEB_SEARCH_CIRCUIT_OPEN_SECONDS=60

ENABLE_LONGITUDINAL_ANALYSIS=true
ANALYSIS_AUTORUN_ON_CHAT=true
ANALYSIS_DAILY_HOUR_LOCAL=20
ANALYSIS_WEEKLY_WEEKDAY_LOCAL=6
ANALYSIS_MONTHLY_DAY_LOCAL=1
ANALYSIS_MAX_CATCHUP_WINDOWS=6
ANALYSIS_MAX_CATCHUP_WINDOWS_CHAT=1
ANALYSIS_AUTORUN_DEBOUNCE_SECONDS=300

UTILITY_CALL_BUDGET_LOG_TURN=6
UTILITY_CALL_BUDGET_NONLOG_TURN=4

ENABLE_PASSKEY_AUTH=true
PASSKEY_RP_ID=coach.example.com
PASSKEY_RP_NAME=Longevity Coach
PASSKEY_ALLOWED_ORIGINS=["https://coach.example.com"]
PASSKEY_CHALLENGE_TTL_SECONDS=300
PASSKEY_USER_TOKEN_HOURS=168

AUTH_COOKIE_NAME=longevity_session
AUTH_COOKIE_SECURE=true
AUTH_COOKIE_HTTPONLY=true
AUTH_COOKIE_SAMESITE=lax
AUTH_COOKIE_DOMAIN=coach.example.com
AUTH_COOKIE_PATH=/

SECURITY_HEADERS_ENABLED=true
SECURITY_CSP="default-src 'self'; img-src 'self' data: blob:; style-src 'self' 'unsafe-inline'; script-src 'self'; connect-src 'self' https: wss:; font-src 'self' data:; frame-ancestors 'none'; base-uri 'self'; form-action 'self';"

RATE_LIMIT_AUTH_LOGIN_ATTEMPTS=10
RATE_LIMIT_AUTH_LOGIN_WINDOW_SECONDS=300
RATE_LIMIT_AUTH_REGISTER_ATTEMPTS=5
RATE_LIMIT_AUTH_REGISTER_WINDOW_SECONDS=600
RATE_LIMIT_CHAT_MESSAGES=30
RATE_LIMIT_CHAT_WINDOW_SECONDS=60

SLO_CHAT_P95_FIRST_TOKEN_MS=3500
SLO_DASHBOARD_P95_LOAD_MS=1200
SLO_ANALYSIS_RUN_COMPLETION_SLA_SECONDS=120
